{"ast":null,"code":"import { BIRD_COLOR, RADIUS, visibleRangeDistance } from \"./constants\";\nimport { Point } from \"./Point.js\";\n\n// between two birds\nconst squaredDistance = function (b1, b2) {\n  return (b1.x - b2.x) ** 2 + (b1.y - b2.y) ** 2;\n};\nexport function nearbyBirds(current, all, distance) {\n  return new Set([...all].filter(b => b !== current && squaredDistance(current, b) <= distance ** 2));\n}\n\n// angle is bearing from horizontal to elongated vertex in radians\nexport function drawTriangle(x, y, angle, ctx) {\n  let vertex = [new Point(0, 10), new Point(0, -10), new Point(20, 0)];\n  vertex = vertex.map(p => p.rotate(angle).transpose(x, y));\n\n  // drawing triangle\n  ctx.beginPath();\n  ctx.moveTo(vertex[0].x, vertex[0].y);\n  ctx.lineTo(vertex[1].x, vertex[1].y);\n  ctx.lineTo(vertex[2].x, vertex[2].y);\n  ctx.closePath();\n\n  // colouring\n  ctx.fillStyle = BIRD_COLOR;\n  ctx.fill();\n}\nexport function drawCircle(x, y, ctx) {\n  ctx.beginPath();\n  ctx.arc(x, y, RADIUS, 0, 2 * Math.PI); // Draw a circle with radius 20\n  ctx.fillStyle = BIRD_COLOR; // Fill color\n  ctx.fill(); // Fill the circle with the blue color\n  ctx.closePath(); // Close the path\n}","map":{"version":3,"names":["BIRD_COLOR","RADIUS","visibleRangeDistance","Point","squaredDistance","b1","b2","x","y","nearbyBirds","current","all","distance","Set","filter","b","drawTriangle","angle","ctx","vertex","map","p","rotate","transpose","beginPath","moveTo","lineTo","closePath","fillStyle","fill","drawCircle","arc","Math","PI"],"sources":["/home/yechan/imperial/side_projects/birds-flocking/src/utilities.js"],"sourcesContent":["import { BIRD_COLOR, RADIUS, visibleRangeDistance } from \"./constants\"\nimport { Point } from \"./Point.js\"\n\n// between two birds\nconst squaredDistance = function (b1, b2) { \n    return (b1.x - b2.x) ** 2 + (b1.y - b2.y) ** 2\n}\n\nexport function nearbyBirds(current, all, distance) {\n    return new Set ([...all].filter(b => \n        (b !== current && squaredDistance(current, b) <= distance ** 2)\n        )    \n    )\n}\n\n// angle is bearing from horizontal to elongated vertex in radians\nexport function drawTriangle(x, y, angle, ctx) {\n\n    let vertex = [new Point(0, 10), new Point(0, -10), new Point(20, 0)]\n    vertex = vertex.map(p => p.rotate(angle).transpose(x, y));\n    \n    // drawing triangle\n    ctx.beginPath()\n    ctx.moveTo(vertex[0].x, vertex[0].y)\n    ctx.lineTo(vertex[1].x, vertex[1].y)\n    ctx.lineTo(vertex[2].x, vertex[2].y)\n    ctx.closePath()\n\n    // colouring\n    ctx.fillStyle = BIRD_COLOR\n    ctx.fill()\n\n    }\n    \nexport function drawCircle(x, y, ctx) {\n    ctx.beginPath();\n    ctx.arc(x, y, RADIUS, 0, 2 * Math.PI); // Draw a circle with radius 20\n    ctx.fillStyle = BIRD_COLOR; // Fill color\n    ctx.fill(); // Fill the circle with the blue color\n    ctx.closePath(); // Close the path\n}\n"],"mappings":"AAAA,SAASA,UAAU,EAAEC,MAAM,EAAEC,oBAAoB,QAAQ,aAAa;AACtE,SAASC,KAAK,QAAQ,YAAY;;AAElC;AACA,MAAMC,eAAe,GAAG,SAAAA,CAAUC,EAAE,EAAEC,EAAE,EAAE;EACtC,OAAO,CAACD,EAAE,CAACE,CAAC,GAAGD,EAAE,CAACC,CAAC,KAAK,CAAC,GAAG,CAACF,EAAE,CAACG,CAAC,GAAGF,EAAE,CAACE,CAAC,KAAK,CAAC;AAClD,CAAC;AAED,OAAO,SAASC,WAAWA,CAACC,OAAO,EAAEC,GAAG,EAAEC,QAAQ,EAAE;EAChD,OAAO,IAAIC,GAAG,CAAE,CAAC,GAAGF,GAAG,CAAC,CAACG,MAAM,CAACC,CAAC,IAC5BA,CAAC,KAAKL,OAAO,IAAIN,eAAe,CAACM,OAAO,EAAEK,CAAC,CAAC,IAAIH,QAAQ,IAAI,CAC7D,CACJ,CAAC;AACL;;AAEA;AACA,OAAO,SAASI,YAAYA,CAACT,CAAC,EAAEC,CAAC,EAAES,KAAK,EAAEC,GAAG,EAAE;EAE3C,IAAIC,MAAM,GAAG,CAAC,IAAIhB,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,IAAIA,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAIA,KAAK,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;EACpEgB,MAAM,GAAGA,MAAM,CAACC,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,MAAM,CAACL,KAAK,CAAC,CAACM,SAAS,CAAChB,CAAC,EAAEC,CAAC,CAAC,CAAC;;EAEzD;EACAU,GAAG,CAACM,SAAS,CAAC,CAAC;EACfN,GAAG,CAACO,MAAM,CAACN,MAAM,CAAC,CAAC,CAAC,CAACZ,CAAC,EAAEY,MAAM,CAAC,CAAC,CAAC,CAACX,CAAC,CAAC;EACpCU,GAAG,CAACQ,MAAM,CAACP,MAAM,CAAC,CAAC,CAAC,CAACZ,CAAC,EAAEY,MAAM,CAAC,CAAC,CAAC,CAACX,CAAC,CAAC;EACpCU,GAAG,CAACQ,MAAM,CAACP,MAAM,CAAC,CAAC,CAAC,CAACZ,CAAC,EAAEY,MAAM,CAAC,CAAC,CAAC,CAACX,CAAC,CAAC;EACpCU,GAAG,CAACS,SAAS,CAAC,CAAC;;EAEf;EACAT,GAAG,CAACU,SAAS,GAAG5B,UAAU;EAC1BkB,GAAG,CAACW,IAAI,CAAC,CAAC;AAEV;AAEJ,OAAO,SAASC,UAAUA,CAACvB,CAAC,EAAEC,CAAC,EAAEU,GAAG,EAAE;EAClCA,GAAG,CAACM,SAAS,CAAC,CAAC;EACfN,GAAG,CAACa,GAAG,CAACxB,CAAC,EAAEC,CAAC,EAAEP,MAAM,EAAE,CAAC,EAAE,CAAC,GAAG+B,IAAI,CAACC,EAAE,CAAC,CAAC,CAAC;EACvCf,GAAG,CAACU,SAAS,GAAG5B,UAAU,CAAC,CAAC;EAC5BkB,GAAG,CAACW,IAAI,CAAC,CAAC,CAAC,CAAC;EACZX,GAAG,CAACS,SAAS,CAAC,CAAC,CAAC,CAAC;AACrB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}